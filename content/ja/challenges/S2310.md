+++
title = 'ncnnの移植と最適化'
date = 2023-11-27T19:57:09+08:00
toc = true
slug = 'S2310'
cid = 'S2310'
award = '15000 CNY'
summary = 'ncnnは非常に優れた高性能ニューラルネットワーク計算フレームワークであり、RISC-Vに対するサポートも良好です。このプロジェクトでは、upstreamの基盤上で、Duoの計算リソースを最大限に活用し、ncnnの持つ性能テストセットのスコアを向上させることが求められます。'
+++

## プロジェクトの説明：

ncnnは非常に優れた高性能ニューラルネットワーク計算フレームワークであり、RISC-Vに対するサポートも良好です。このプロジェクトでは、upstreamの基盤上で、Duoの計算リソースを最大限に活用し、ncnnの持つ性能テストセットのスコアを向上させることが求められます。

## 成果物および評価要件：

1. リグレッションテストで新たな失敗を引き起こさないこと。
2. RVV0.7、TPU、またはDuo上の他の利用可能な計算コンポーネントを使用して加速を図ること。
3. benchmarkディレクトリの下のモデルを可能な限り多く正しく実行し、実行時間を記録すること。

## 提出説明
 
1. 提出リポジトリのリンクは https://github.com/plctlab/rvspoc-s2310-ncnn です。
2. Pull Requestの形式で結果を上記のリポジトリに提出してください。
3. 提出時には、再現に必要なソフトウェア環境を詳細に説明してください。「検受説明」に記載されているデフォルトのソフトウェア環境を参考に、必要に応じて変更を加えてください。
4. コンテスト期間中、最適化された内容の提出方法は以下の通りです：
  1. バイナリ形式
  2. 暗号化されたソースコード形式（暗号化情報はrvspoc@cyberlimes.cnにメールで送信する必要があります）
  3. ソースコード形式
5. 最終結果の公開後、提出内容を完全にオープンソース化する必要があります。
6. 主催者は、競技終了後（つまり2024年~~2月16日~~2月29日以降）、競技課題のリポジトリのPull Requestチャネルを閉鎖し、結果の検受を開始します。

## 検受説明

1. 検受プラットフォームはMilk-v Duo 64MBバージョンです。
    1. 検受時には同じ仕様のTFカードを統一して使用します。
    2. SWAPの使用は推奨されません。
    3. CPUのオーバークロックは行いません。
    4. 追加の冷却装置は使用しません。
2. Duo上のシステムに特別な要求はありませんが、参加者が要求する場合は、Pull Requestで必要なシステムを申し出ることができます。
3. ncnnリポジトリは：https://github.com/Tencent/ncnnです。
4. 検受プログラムとしてncnnbenchを使用し、具体的な最適化の重みは後ほど決定されます。
5. 総合的なスコアは、Milk-V公式イメージの55MBメモリ下でのスコアを下回らないことが求められます。
6. 55MBメモリでSWAPパーティションなしの状態では、一部のBenchmarkの項目を実行できない場合があります。この部分の内容は、評審委員会からの通知を待つ必要があります。
7. **競技の実際の最適化進行状況に応じて、未考慮の側面については、競技の進行に伴い調整される可能性がありますので、競技ウェブサイトに注目し続けてください。最終的な解釈権は競技の課題審査委員会に帰属します。**

## 知的財産権およびオープンソースライセンスに関する説明：

すべての参加成果はオープンソースとして公開し、主催者が指定するリポジトリに提出する必要があります。参加者（著者）は作品の全ての権利を保有します。主催者は、参加者が成果をアップストリームにフィードバックして貢献することを奨励します。

## Resources

- [S2310 quick start live replay (中国語)](https://www.bilibili.com/video/BV1Ce411b7PT/)
- [S2310 quick start doc (中国語)](https://github.com/plctlab/rvspoc/blob/main/Docs/S2310/S2310.md)

