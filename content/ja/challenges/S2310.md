+++
title = 'ncnnの移植と最適化'
date = 2023-11-27T19:57:09+08:00
toc = true
slug = 'S2310'
cid = 'S2310'
award = '15000 CNY'
summary = 'ncnnは非常に優れた高性能ニューラルネットワーク計算フレームワークであり、RISC-Vに対するサポートも良好です。このプロジェクトでは、upstreamの基盤上で、Duoの計算リソースを最大限に活用し、ncnnの持つ性能テストセットのスコアを向上させることが求められます。'
+++

## プロジェクトの説明：

ncnnは非常に優れた高性能ニューラルネットワーク計算フレームワークであり、RISC-Vに対するサポートも良好です。このプロジェクトでは、upstreamの基盤上で、Duoの計算リソースを最大限に活用し、ncnnの持つ性能テストセットのスコアを向上させることが求められます。

## 成果物および評価要件：

1. リグレッションテストで新たな失敗を引き起こさないこと。
2. RVV0.7、TPU、またはDuo上の他の利用可能な計算コンポーネントを使用して加速を図ること。
3. benchmarkディレクトリの下のモデルを可能な限り多く正しく実行し、実行時間を記録すること。

**検証プラットフォーム： Duo**

## Repository for submissions

- https://github.com/plctlab/rvspoc-s2310-ncnn

## 提交说明：

1. 提交仓库链接为 https://github.com/plctlab/rvspoc-s2310-ncnn
2. 请以 Pull Request 的形式，将结果提交到上述仓库中。
3. 提交时，请详细说明复现所需要的软件环境，可以参照「验收说明」内默认软件环境做修改。
4. 在比赛期间，所有经过优化过的内容的提交方式可以有：
    1. 二进制的形式
    2. 加密源码的形式（加密信息需通过邮件发送至 rvspoc@cyberlimes.cn）
    3. 源码形式
5. 最终结果公布后，需对提交内容进行完整开源。
6. 组委会会在比赛结束后（即 2024 年 ~~2 月 16 日~~2 月 29 日以后），关闭赛题仓库的 Pull Request 通道，并开始对结果进行验收。

## 验收标准：

1. 验收平台为 Milk-v Duo 64M 版本
    1. 验收时会统一成相同规格的 TF 卡
    2. 不建议使用 SWAP
    3. 不进行 CPU 超频
    4. 统一无额外散热 
2. 对 Duo 上的系统没有额外要求，如果参赛者要求，可在 Pull Request 中申明需要的系统。
3. ncnn 仓库为： https://github.com/Tencent/ncnn
4. 使用 ncnnbench 作为验收程序，详细的优化权重待定.
5. 总体跑分应不低于 Milk-V 官方镜像 55MB 内存下的分数.
6. 部分 Benchmark 的项目在 55MB 内存不加 SWAP 分区的情况下无法运行。此部分内容待评委会通知。
7. **（本赛题的实际优化进展，初始有未考虑到的地方，后期可能会有调整，请保持对赛事网站的关注，最终解释权归属于本比赛的赛题评审委员会）**

## 知的財産権およびオープンソースライセンスに関する説明：

すべての参加成果はオープンソースとして公開し、主催者が指定するリポジトリに提出する必要があります。参加者（著者）は作品の全ての権利を保有します。主催者は、参加者が成果をアップストリームにフィードバックして貢献することを奨励します。

## Resources

- [S2310 quick start live replay](https://www.bilibili.com/video/BV1Ce411b7PT/)
- [S2310 quick start doc](https://github.com/plctlab/rvspoc/blob/main/Docs/S2310/S2310.md)

