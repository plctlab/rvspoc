+++
title = 'Node.js Performance Optimization'
date = 2023-11-27T19:57:09+08:00
toc = true
slug = 'S2306'
cid = 'S2306'
award = '20000 CNY'
summary = 'Implement bugfixes and optimization on upstream Node.js for RISC-V, as well as platform-specific optimizations for SG2042/Pioneer Box, optimising benchmark results as much as possible.'
+++

## Program Description

Implement bugfixes and optimization on upstream Node.js for RISC-V, as well as platform-specific optimizations for SG2042/Pioneer Box, optimising benchmark results as much as possible.

## Rubrics

1. Use the benchmark testsuite in Node.js's source tree as the basis for benchmarking, profiling, and optimization.
2. Produce benchmark run results on Node.js v20.10.0, comparing and analysing said results against at least one mainstream platform (ARM64/x86_64) running the same Node.js version.
3. Demo optimization results using node-benchmark-compare.
4. Final results will be assessed in the form of (1) test analysis report, (2) number of testcases successfully optimised, (3) optimization delta of each testcase, and (4) overall optimization delta.

**Assessment Platform: SG2042**


## Repository for submissions

- https://github.com/plctlab/rvspoc-s2306-node

## 提交说明

* 提交仓库链接为 https://github.com/plctlab/rvspoc-s2306-node
* 请以 Pull Request 的形式，将结果提交到上述仓库中。
* 提交时，请详细说明复现所需要的软件环境，可以参照「验收说明」内默认软件环境做修改。
* 在比赛期间，所有经过优化过的内容的提交方式可以有：
  1. 二进制的形式
  2. 加密源码的形式（加密信息需通过邮件发送至 rvspoc@cyberlimes.cn）
  3. 源码形式
* 最终结果公布后，需对提交内容进行完整开源。
* 组委会会在比赛结束后（即 2024 年 2 月 16 日以后），关闭赛题仓库的 Pull Request 通道，并开始对结果进行验收。

## 验收说明

1. 验证平台为 **SG2042**，固定的硬件规格。
2. **允许选手自行选择组委会能复现的操作系统以及其他软件环境。**
3. Node.js 版本使用当前最新 LTS 版本（即 20.X），允许 backport 主线的优化内容。
4. 更详细的优化评定权重（针对每个 benchmark 项）待定。
5. 组委会会在条件 1 的基础上，使用如下软件环境，将经过多次跑分所产生的平均值作为基线，与选手优化过后的数据进行比较：
   - Fedora 38，裸机环境
   - Fedora 38 自带 GCC 13.2
   - Node.js 版本选择 LTS v20.11.0
   - 除 openssl 外均使用 Node.js 源码包内绑定的外部依赖
   - openssl 使用 Fedora 38 自带的 3.0.8
   - 使用默认 -O3 与 lto 优化，以及其他默认值
6. 满足「产出及评分要求」所列出 4 条项目。
7. 优化幅度最高者，夺冠。
8. **根据赛题的实际优化进展，针对未考虑到的方面，随着比赛进程的推进可能会有调整，请保持对赛事网站的关注，最终解释权归属于比赛的赛题评审委员会。**

## Notice on Intellectual Properties and Open Source Licenses

All program submissions must be open source and committed to a specified repository. The participant(s) (author) holds rights to their work. The host encourages contributing any changes made to the upstream.

## Resources

* Live Replay & Documents (Chinese)： [plctlab/rvspoc:Docs/S2306](https://github.com/plctlab/rvspoc/tree/main/Docs/S2306)
